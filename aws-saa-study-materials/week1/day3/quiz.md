# Day 3 퀴즈: EC2 기초

## 퀴즈 개요
- **주제**: EC2 (Elastic Compute Cloud) 기초
- **문제 수**: 5문제
- **예상 소요 시간**: 10-15분
- **난이도**: 초급-중급

---

## 문제 1: EC2 인스턴스 타입 (객관식)

다음 중 **메모리 최적화** 인스턴스 패밀리는 무엇입니까?

A) t3 패밀리  
B) c5 패밀리  
C) r5 패밀리  
D) i3 패밀리  

<details>
<summary>정답 및 해설</summary>

**정답: C) r5 패밀리**

**해설:**
- **r5 패밀리**는 메모리 최적화 인스턴스로, 대용량 메모리가 필요한 애플리케이션에 적합합니다.
- **t3 패밀리**: 범용 인스턴스 (버스트 가능한 성능)
- **c5 패밀리**: 컴퓨팅 최적화 인스턴스 (CPU 집약적 작업)
- **i3 패밀리**: 스토리지 최적화 인스턴스 (고속 I/O)

**메모리 최적화 인스턴스 사용 사례:**
- 인메모리 데이터베이스 (Redis, Memcached)
- 빅데이터 처리 (Apache Spark)
- 고성능 컴퓨팅 (HPC) 애플리케이션
</details>

---

## 문제 2: 보안 그룹 (시나리오 기반)

웹 애플리케이션을 위한 EC2 인스턴스를 설정하고 있습니다. 이 인스턴스는 인터넷에서 HTTP와 HTTPS 트래픽을 받아야 하고, 관리자만 SSH로 접속할 수 있어야 합니다.

다음 중 **가장 적절한** 보안 그룹 인바운드 규칙은 무엇입니까?

A) 
```
HTTP (80): 0.0.0.0/0
HTTPS (443): 0.0.0.0/0
SSH (22): 0.0.0.0/0
```

B)
```
HTTP (80): 0.0.0.0/0
HTTPS (443): 0.0.0.0/0
SSH (22): 관리자 IP 주소
```

C)
```
HTTP (80): 10.0.0.0/16
HTTPS (443): 10.0.0.0/16
SSH (22): 관리자 IP 주소
```

D)
```
All Traffic: 0.0.0.0/0
```

<details>
<summary>정답 및 해설</summary>

**정답: B)**

**해설:**
보안 그룹 설정 시 **최소 권한 원칙**을 따라야 합니다.

**올바른 설정 (B):**
- **HTTP (80): 0.0.0.0/0** - 웹 서비스이므로 모든 곳에서 접근 가능해야 함
- **HTTPS (443): 0.0.0.0/0** - 보안 웹 서비스이므로 모든 곳에서 접근 가능해야 함
- **SSH (22): 관리자 IP 주소** - 관리 목적이므로 특정 IP에서만 접근 허용

**다른 선택지의 문제점:**
- **A)** SSH를 모든 곳에서 접근 가능하게 하는 것은 보안상 위험
- **C)** HTTP/HTTPS를 VPC 내부로만 제한하면 인터넷에서 접근 불가
- **D)** 모든 트래픽을 허용하는 것은 매우 위험한 설정

**보안 모범 사례:**
- SSH 포트는 항상 특정 IP 또는 IP 범위로 제한
- 필요한 포트만 열고, 불필요한 포트는 차단
- 정기적으로 보안 그룹 규칙 검토 및 업데이트
</details>

---

## 문제 3: AMI (Amazon Machine Image) (객관식)

다음 중 AMI에 대한 설명으로 **틀린** 것은?

A) AMI는 인스턴스를 시작하는 데 필요한 정보를 포함하는 템플릿이다  
B) 사용자 정의 AMI를 생성하여 다른 리전에서 사용할 수 있다  
C) AMI는 운영체제, 애플리케이션, 설정 정보를 포함한다  
D) 한 번 생성된 AMI는 수정할 수 없으므로 새로 생성해야 한다  

<details>
<summary>정답 및 해설</summary>

**정답: D) 한 번 생성된 AMI는 수정할 수 없으므로 새로 생성해야 한다**

**해설:**
D번이 틀린 설명입니다. AMI 자체는 수정할 수 없지만, 다음과 같은 방법으로 업데이트할 수 있습니다:

**AMI 업데이트 방법:**
1. 기존 AMI로 인스턴스 시작
2. 필요한 변경사항 적용 (소프트웨어 업데이트, 설정 변경 등)
3. 수정된 인스턴스로부터 새로운 AMI 생성
4. 기존 AMI를 새 AMI로 교체

**올바른 설명들:**
- **A)** AMI는 인스턴스 시작에 필요한 모든 정보를 포함하는 템플릿
- **B)** AMI를 다른 리전으로 복사하여 사용 가능 (Cross-region copy)
- **C)** AMI는 OS, 애플리케이션, 라이브러리, 설정 등을 모두 포함

**AMI 종류:**
- **EBS-backed AMI**: 루트 디바이스가 EBS 볼륨 (권장)
- **Instance store-backed AMI**: 루트 디바이스가 인스턴스 스토어
</details>

---

## 문제 4: 인스턴스 생명주기 (시나리오 기반)

개발팀에서 비용 절약을 위해 개발 서버를 업무 시간(오전 9시-오후 6시)에만 운영하려고 합니다. 서버의 데이터는 보존되어야 하며, 매일 같은 IP 주소로 접속할 수 있어야 합니다.

이 요구사항을 만족하는 **가장 적절한** 방법은?

A) 매일 인스턴스를 종료(terminate)하고 새로 생성  
B) 인스턴스를 중지(stop)하고 시작(start)하며, Elastic IP 사용  
C) 인스턴스를 재시작(reboot)하고 퍼블릭 IP 사용  
D) 스팟 인스턴스를 사용하여 자동으로 중단 및 재시작  

<details>
<summary>정답 및 해설</summary>

**정답: B) 인스턴스를 중지(stop)하고 시작(start)하며, Elastic IP 사용**

**해설:**
요구사항 분석:
1. **데이터 보존 필요** → 종료(terminate)는 불가능
2. **비용 절약** → 사용하지 않을 때는 중지 필요
3. **같은 IP 주소** → Elastic IP 필요

**각 선택지 분석:**

**A) 종료 후 재생성**
- ❌ 데이터 손실 (EBS 루트 볼륨도 기본적으로 삭제됨)
- ❌ 매번 새로운 IP 할당
- ❌ 설정 재작업 필요

**B) 중지/시작 + Elastic IP** ✅
- ✅ EBS 데이터 보존
- ✅ 중지 시 컴퓨팅 비용 없음 (EBS 비용만 발생)
- ✅ Elastic IP로 고정 IP 사용
- ✅ 자동화 가능 (CloudWatch Events + Lambda)

**C) 재시작 + 퍼블릭 IP**
- ❌ 재시작은 인스턴스를 끄지 않으므로 비용 절약 안됨
- ❌ 퍼블릭 IP는 재시작 시에도 변경될 수 있음

**D) 스팟 인스턴스**
- ❌ 예측 불가능한 중단
- ❌ 데이터 손실 위험
- ❌ 일정한 시간에 운영 보장 불가

**구현 방법:**
```bash
# 오후 6시에 중지
aws ec2 stop-instances --instance-ids i-1234567890abcdef0

# 오전 9시에 시작
aws ec2 start-instances --instance-ids i-1234567890abcdef0
```

**비용 효과:**
- 중지된 인스턴스는 컴퓨팅 비용 없음
- EBS 스토리지 비용만 발생 (월 $0.10/GB)
- Elastic IP 비용: 사용 중일 때는 무료, 미사용 시 시간당 $0.005
</details>

---

## 문제 5: EC2 스토리지 (종합 문제)

다음은 서로 다른 요구사항을 가진 세 가지 애플리케이션입니다. 각각에 **가장 적합한** EC2 스토리지 옵션을 선택하세요.

**애플리케이션 A**: 웹 서버, 일반적인 성능, 데이터 영구 보존 필요  
**애플리케이션 B**: 고성능 데이터베이스, 매우 높은 IOPS 필요, 데이터 영구 보존 필요  
**애플리케이션 C**: 임시 캐시 서버, 최고 성능 필요, 데이터 손실 허용 가능  

스토리지 옵션:
1. gp3 (General Purpose SSD)
2. io2 (Provisioned IOPS SSD)  
3. Instance Store

정답을 매칭하세요:
- 애플리케이션 A: ___
- 애플리케이션 B: ___  
- 애플리케이션 C: ___

<details>
<summary>정답 및 해설</summary>

**정답:**
- **애플리케이션 A**: 1 (gp3)
- **애플리케이션 B**: 2 (io2)
- **애플리케이션 C**: 3 (Instance Store)

**상세 해설:**

**애플리케이션 A → gp3 (General Purpose SSD)**
- **요구사항**: 일반적인 성능 + 데이터 영구 보존
- **gp3 특징**:
  - 기본 3,000 IOPS, 최대 16,000 IOPS
  - 125 MB/s 기본 처리량, 최대 1,000 MB/s
  - 비용 효율적
  - EBS 볼륨으로 데이터 영구 보존
- **적합한 이유**: 웹 서버는 일반적으로 높은 IOPS가 필요하지 않으며, gp3는 성능과 비용의 균형이 좋음

**애플리케이션 B → io2 (Provisioned IOPS SSD)**
- **요구사항**: 매우 높은 IOPS + 데이터 영구 보존
- **io2 특징**:
  - 최대 64,000 IOPS (4,000 IOPS/GB)
  - 99.999% 내구성
  - 일관된 성능 보장
  - EBS 볼륨으로 데이터 영구 보존
- **적합한 이유**: 고성능 데이터베이스는 일관되고 높은 IOPS가 필수적이며, io2는 이를 보장

**애플리케이션 C → Instance Store**
- **요구사항**: 최고 성능 + 데이터 손실 허용
- **Instance Store 특징**:
  - 물리적으로 호스트에 연결된 SSD
  - 매우 높은 I/O 성능 (수십만 IOPS)
  - 인스턴스 중지/종료 시 데이터 손실
  - 추가 비용 없음
- **적합한 이유**: 캐시 서버는 최고 성능이 중요하고, 데이터는 다른 곳에서 복구 가능하므로 임시 스토리지 사용 가능

**스토리지 선택 가이드라인:**

| 요구사항 | 권장 스토리지 | 사용 사례 |
|---------|-------------|----------|
| 일반적인 워크로드 + 영구 보존 | gp3 | 웹 서버, 파일 서버, 개발 환경 |
| 높은 IOPS + 영구 보존 | io2 | 데이터베이스, 파일 시스템 |
| 최고 성능 + 임시 데이터 | Instance Store | 캐시, 임시 처리, 빅데이터 |
| 처리량 중심 + 영구 보존 | st1 | 로그 처리, 데이터 웨어하우스 |
| 아카이브 + 저비용 | sc1 | 백업, 아카이브 |

**비용 비교 (us-east-1 기준):**
- **gp3**: $0.08/GB/월 + $0.005/IOPS/월 (3,000 IOPS 초과분)
- **io2**: $0.125/GB/월 + $0.065/IOPS/월
- **Instance Store**: 인스턴스 비용에 포함 (추가 비용 없음)
</details>

---

## 퀴즈 완료!

### 점수 계산
- 5문제 모두 맞춤: 🏆 **완벽!** EC2 기초를 잘 이해하고 있습니다.
- 4문제 맞춤: 🎉 **우수!** 대부분의 개념을 잘 파악했습니다.
- 3문제 맞춤: 👍 **양호!** 기본 개념은 이해했지만 복습이 필요합니다.
- 2문제 이하: 📚 **복습 필요!** 오늘 학습 내용을 다시 검토해보세요.

### 추가 학습 권장사항

**점수가 낮다면:**
1. Day 3 이론 내용 재검토
2. AWS 공식 문서의 EC2 사용자 가이드 참조
3. 실습을 다시 진행하며 각 단계별 이해도 확인

**점수가 높다면:**
1. 내일(Day 4) EC2 고급 기능 학습 준비
2. 실제 프로젝트에 EC2 적용 고려
3. AWS 아키텍처 모범 사례 학습

### 오답 노트 작성 권장

틀린 문제가 있다면 다음 형식으로 정리해보세요:

```
문제 번호: ___
내가 선택한 답: ___
정답: ___
틀린 이유: ___
핵심 개념: ___
```

---

**다음 학습**: Day 4에서는 EC2의 고급 기능과 EBS 스토리지에 대해 더 자세히 알아보겠습니다!

**복습 자료**:
- [Day 3 이론 내용](theory.md)
- [Day 3 시각화 자료](visuals/ec2-architecture.md)
- [Day 3 실습 가이드](hands-on/setup-guide.md)